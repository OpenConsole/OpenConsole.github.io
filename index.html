<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="google-site-verification" content="bwGAcGbBaQJNJiVREr6OFrcVUX2s8R40kwohmF3z2K8" />
    <title>OpenConsole</title>
    <link rel="shortcut icon" href="Resources/favicon.ico">
    <link rel="manifest" href="A2HS/manifest.webmanifest">
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('service-worker.js');
      }
    </script>
  </head>
  <body style="background-color: #223b4f; font-family: Arial, Helvetica Neue, Helvetica, sans-serif;">
    <div style="text-align: center;">
      <p style="font-size: 64px; color: white;">Open<span style="color: #13add0;">Console</span></p>
      <p style="font-size: 32px; color: white;"><a href="console.html">Console</a></p>
      <p style="font-size: 32px; color: white;"><a href="controller.html">Controller</a></p>
    </div>
    <script type="text/javascript" src="//wurfl.io/wurfl.js"></script>
    <script>
        var allPressed = [];
        window.addEventListener("keydown", function(e) {
            //console.log("Key: " + e.key + ", kCode: " + e.keyCode + ", code: " + e.code + ", which: " + e.which);
            var newBtn = "{\n    \"b\":    { \"innerHTML\":\"" + e.code.replace('Key','') + "\", \"isKeyboard\":true, \"data\":[" + e.keyCode + ", \"" + e.key + "\", \"" + e.code + "\"] },\n    \"Start\":{ \"innerHTML\":\"Space\", \"isKeyboard\":true, \"data\":[32, \" \", \"Space\"] }\n  },";
            allPressed.push(newBtn);
            var total = "";
            allPressed.forEach(element => total += element);
            console.log(total);
        });
        window.addEventListener("mousedown", function(e) {
            console.log("Key: " + e.key + ", kCode: " + e.keyCode + ", code: " + e.code + ", which: " + e.which);
        });
        if(WURFL.is_mobile === true) {
            window.location.href = "/controller.html";
        } else {
            window.location.href = "/console.html";
        }
    </script>
  </body>